<!DOCTYPE html>
<html lang="en">

<!-- ========== HTML头部区域 ========== -->
<!-- 包含页面元数据、外部资源引入、样式定义等 -->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FFAI Crypto Treasury</title>
  <!-- 外部CSS和JavaScript库引入 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script src="../script/apponly-handler.js"></script>
  <!-- 字体资源预加载和引入 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
    rel="stylesheet">
  <!-- 网站图标设置 -->
  <link rel="icon" href="../assets/favicons/favicon_light.svg" media="(prefers-color-scheme: light)">
  <link rel="icon" href="../assets/favicons/favicon_dark.svg" media="(prefers-color-scheme: dark)">
  <!-- 自定义样式定义 -->
  <style>
    body {
      font-family: 'Roboto', 'Noto Sans SC', sans-serif;
    }

    .gradient-text {
      background: linear-gradient(to right, #06b6d4, #2563eb);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .feature-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 16px 20px;
      background: rgba(255, 255, 255, 0.3);
      border: 1px solid rgba(148, 163, 184, 0.3);
      border-radius: 12px;
      text-align: center;
      min-height: 100px;
      width: 240px;
      color: #334155;
      font-size: 14px;
      transition: all 0.2s ease;
    }

    .feature-card:hover {
      background: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>

<body class="min-h-screen bg-slate-50 text-slate-800">
  <!-- ========== 页面头部导航栏 ========== -->
  <!-- 包含网站Logo、导航菜单、语言切换、移动端菜单等 -->
  <header class="sticky top-0 z-50 border-b border-slate-200 bg-white/80 backdrop-blur relative">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2">
        <img src="../assets/icons/brand/C10.svg" width="69" height="30" alt="FFAI Logo"> FFAI Crypto
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-6">
        <nav class="flex items-center gap-6 text-sm text-slate-600">
          <a href="index.html" class="hover:text-slate-900">首页</a>
          <a href="c10_index.html" class="hover:text-slate-900 font-bold gradient-text">C10指数</a>
          <a href="c10_treasury.html" class="hover:text-slate-900">C10财库管理</a>
          <a href="index.html#ETF" class="hover:text-slate-900">C10 ETF</a>
        </nav>
        <div class="flex items-center gap-4">
          <a href="index.html#invest"
            class="bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors">
            投资我们
          </a>
          <a href="https://www.faradayfuturecn.com/cn/" target="_blank" class="hover:opacity-80 transition-opacity">
            <img src="../assets/icons/brand/FF.svg" width="32" height="24" alt="FF Logo">
          </a>
        </div>

      </div>

      <!-- Mobile Buttons -->
      <div class="md:hidden flex items-center gap-2">
        <a href="index.html#invest"
          class="bg-slate-900 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-slate-800 transition-colors">
          投资我们
        </a>

        <button id="mobileMenuBtn"
          class="inline-flex items-center justify-center h-10 w-10 rounded-xl border border-slate-200 bg-white hover:bg-slate-50"
          aria-label="Toggle menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobileMenu"
      class="hidden md:hidden absolute top-full left-0 right-0 bg-white border border-slate-200 rounded-lg shadow-lg mx-4 mt-2 z-50">
      <nav class="px-4 py-3 space-y-1">
        <a href="index.html"
          class="block py-3 px-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-md transition-colors">首页</a>
        <a href="c10_index.html"
          class="block py-3 px-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-md font-bold gradient-text transition-colors">C10指数</a>
        <a href="c10_treasury.html"
          class="block py-3 px-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-md transition-colors">C10资产管理</a>

        <a href="index.html#ETF"
          class="block py-3 px-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-md transition-colors">C10
          ETF</a>
        <a href="https://www.faradayfuturecn.com/cn/"
          class="block py-3 px-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-md transition-colors"
          target="_blank">FF</a>
      </nav>
    </div>
  </header>

  <!-- ========== 实时数据快照区域 ========== -->
  <!-- 显示C10指数的实时价格、涨跌幅、走势图表和时间选择器 -->
  <section class="py-12 sm:py-16 border-t border-slate-200 bg-gradient-to-br from-cyan-100 to-blue-100">
    <div class="mx-auto max-w-7xl px-4">
      <h1 class="text-4xl font-bold text-center mb-8 flex items-center justify-center gap-3">
        C10指数实时走势
      </h1>
      <div class="p-6 min-w-0 overflow-x-auto" id="realtime">
        <div class="flex items-center justify-between mb-4">
          <div class="flex gap-2">
            <span class="text-black px-2 py-1 rounded" style="font-size: 40px;" id="lastPrice">2,891.42</span>
            <span class="text-sm text-green-600 px-2 py-1 rounded flex items-center" id="lastChange">+2.13%</span>
          </div>
          <div class="flex gap-2">
            <button class="px-3 py-1 bg-slate-900 text-white rounded text-sm">1D</button>
            <button class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm">1W</button>
            <button class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm">1M</button>
            <button class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm">3M</button>
            <button class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm">1Y</button>
          </div>
        </div>
        <div class="h-80 w-full min-w-0">
          <div id="indexChart" class="w-full h-full"></div>
        </div>
        <p class="text-[11px] text-slate-500 mt-3">实时数据和指数图表。</p>
      </div>
    </div>
  </section>

  <!-- ========== 关于C10指数介绍区域 ========== -->
  <!-- 介绍C10指数的定义、权重规则、方法论和再平衡机制 -->
  <section id="methodology" class="py-12 sm:py-16 border-t border-slate-200 bg-gradient-to-br from-blue-50 to-cyan-50">
    <div class="mx-auto max-w-7xl px-4">
      <!-- Main Title -->
      <h1 class="text-4xl font-bold text-center mb-12 flex items-center justify-center gap-4">
        <i data-lucide="book-open" class="h-10 w-10"></i>
        关于C10指数
      </h1>
      <p class="mt-4 text-slate-700 max-w-3xl mx-auto">
        C10: 美股首个主板可投资交易的、上市公司发行的、一篮子十大加密资产组合指数——C10 Index.
      </p>
      <p class="mt-4 text-slate-700 max-w-3xl mx-auto">
        以比特币和以太币为核心，囊括除稳定币外流通市值排名前十的加密资产，按流通市值加权平均等规则计算，单一币种权重不超过 50%。
      </p>
      <p class="mt-4 text-slate-700 max-w-3xl mx-auto">
        在指数算法上，我们将参考纳斯达克和标普500的成熟方法论，既保证科学严谨，又保持足够的透明度和可追溯性。
      </p>

      <!-- 4个主题块，1行4列布局 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- 第一行 -->
        <!-- Index Definition Card -->
        <div class="bg-white border border-slate-200 rounded-xl p-6 flex flex-col">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="info" class="h-6 w-6 text-blue-600"></i>
            <h3 class="font-semibold text-lg">指数定义</h3>
          </div>
          <p class="text-slate-700 flex-1">以比特币和以太币为核心，囊括除稳定币外流通市值排名前十的加密资产，按流通市值加权平均等规则计算。
          </p>
        </div>

        <!-- Weight Rules Card -->
        <div class="bg-white border border-slate-200 rounded-xl p-6 flex flex-col">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="scale" class="h-6 w-6 text-green-600"></i>
            <h3 class="font-semibold text-lg">权重规则</h3>
          </div>
          <p class="text-slate-700 flex-1">单一币种权重不超过50%；定期再平衡恢复目标权重；成分股必须满足流动性和资格筛选标准。
          </p>
        </div>

        <!-- Mature Methodology Card -->
        <div class="bg-white border border-slate-200 rounded-xl p-6 flex flex-col">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="book-open" class="h-6 w-6 text-purple-600"></i>
            <h3 class="font-semibold text-lg">成熟方法论</h3>
          </div>
          <p class="text-slate-700 flex-1">在指数算法上，我们将参考纳斯达克100的成熟方法论，既保证科学严谨，又保持足够的透明度和可追溯性。
          </p>
        </div>


        <!-- Regular Rebalancing Card -->
        <div class="bg-white border border-slate-200 rounded-xl p-6 flex flex-col">
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="refresh-cw" class="h-6 w-6 text-orange-600"></i>
            <h3 class="font-semibold text-lg">定期再平衡</h3>
          </div>
          <p class="text-slate-700 flex-1">每月进行一次权重调整，确保指数构成始终反映最新的市场状况和流通市值排名。
          </p>
        </div>

      </div>
    </div>
  </section>

  <!-- ========== 成分与权重展示区域 ========== -->
  <!-- 展示C10指数的加密货币成分、权重分布饼图和详细数据表格 -->
  <section id="constituents" class="py-12 sm:py-16  bg-white">
    <div class="mx-auto max-w-7xl px-4">
      <div class="flex items-center gap-2 mb-4">
        <i data-lucide="layout-dashboard" class="h-5 w-5"></i>
        <h3 class="text-2xl font-semibold">Crypto成分与权重</h3>
      </div>
      <p class="text-slate-600 mb-6 max-w-3xl">C10指数由十大加密货币加权组成。每种加密货币的权重和价格随市场波动动态调整，为投资者提供多元化和广泛的加密资产投资组合参考。</p>

      <div class="grid lg:grid-cols-2 gap-6 lg:gap-8">
        <!-- Pie -->
        <div class="bg-white border border-slate-200 rounded-xl p-6 min-w-0 overflow-x-auto">
          <h4 class="font-semibold mb-4 text-center">权重分布</h4>
          <div class="h-96 w-full min-w-0 flex items-center justify-center">
            <div id="pieChart" class="w-full h-full"></div>
          </div>
          <p class="text-[11px] text-slate-500 mt-3 text-center">* 显示的权重仅供说明；请参考已公布的方法论获取官方数值。</p>
        </div>

        <!-- Table -->
        <div class="bg-white border border-slate-200 rounded-2xl overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead class="bg-slate-100 text-slate-600">
              <tr>
                <th class="px-4 py-3 text-left font-medium">排名</th>
                <th class="px-4 py-3 text-left font-medium">代码</th>
                <th class="px-4 py-3 text-right font-medium">权重</th>
                <th class="px-4 py-3 text-right font-medium">价格</th>
                <th class="px-4 py-3 text-right font-medium">市值</th>
                <th class="px-4 py-3 text-left font-medium">24小时%</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </div>


    </div>
  </section>

  <!-- ========== Hero宣传区域 ========== -->
  <!-- 主要宣传内容，包含C10指数的核心价值主张和关键特性展示 -->
  <section class="relative overflow-hidden bg-gradient-to-br from-white to-slate-200">
    <div class="mx-auto max-w-7xl px-4 py-10 sm:py-14 lg:py-20 text-center">
      <div class="max-w-4xl mx-auto">
        <div
          class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs text-slate-600 mb-4">
          <i data-lucide="sparkles" class="h-4 w-4"></i> C10指数
        </div>
        <h1 class="text-3xl sm:text-5xl font-semibold" style="line-height: 1.2;">
          C10 不仅是一个指数
          <span class="block gradient-text">更是未来资产价值与财富走势的风向标</span>
        </h1>
        <p class="mt-4 text-slate-700 max-w-3xl mx-auto">
          以比特币和以太币为核心，囊括除稳定币外流通市值排名前十的加密资产，按流通市值加权平均等规则计算，单一币种权重不超过 50%。每种加密货币的权重和价格随市场波动动态调整，为投资者提供多元化和广泛的加密资产投资组合参考。
        </p>
        <div class="mt-10 flex flex-wrap justify-center gap-8">
          <div class="feature-card">
            <i data-lucide="target" class="h-10 w-10" style="color: #0ea5e9;"></i>
            <div class="text-center">
              <div class="font-bold text-lg">1000</div>
              <div class="font-medium text-sm">基准数值</div>
            </div>
          </div>
          <div class="feature-card">
            <i data-lucide="calendar" class="h-10 w-10" style="color: #0ea5e9;"></i>
            <div class="text-center">
              <div class="font-bold text-sm">美西时间 8月16日</div>
              <div class="font-bold text-sm">凌晨 0 点</div>
              <div class="font-medium text-xs mt-1">基准点时间</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== 页脚区域 ========== -->
  <!-- 包含公司信息、联系方式、法律声明和语言切换功能 -->
  <footer id="contact" class="border-t border-slate-200 bg-white/60">
    <div class="mx-auto max-w-7xl px-4 py-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-8 text-sm text-slate-700">
      <div>

        <a href="index.html" class="flex items-center gap-2">
          <img src="../assets/icons/brand/C10.svg" width="69" height="30" alt="FFAI Logo">
          <div class="text-lg" style="font-family: 'Roboto', sans-serif;">FFAI Crypto</div>
        </a>
        <p class="py-4">十大加密资产组合第一财库</p>
        <!-- Language Switcher -->
        <div class="relative mt-2">
          <button id="langSwitcher"
            class="flex items-center gap-2 px-3 py-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-50 transition-colors text-sm">
            <i data-lucide="globe" class="h-3.5 w-3.5"></i>
            <span>中文</span>
            <i data-lucide="chevron-down" class="h-3.5 w-3.5"></i>
          </button>
          <div id="langDropdown"
            class="hidden absolute left-0 mt-2 w-32 bg-white border border-slate-200 rounded-lg shadow-lg z-50">
            <a href="../en/index.html"
              class="block px-4 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-50">English</a>
            <a href="index.html"
              class="block px-4 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-50">中文</a>
          </div>
        </div>
      </div>

      <div>
        <div class="font-semibold text-slate-900 mb-2">联系方式</div>
        <ul class="space-y-1">
          <li>邮箱: <a href="mailto:IR@ff.com" class="hover:text-blue-600">IR@ff.com</a></li>
          <li>Twitter/X: <a href="https://x.com/FaradayFuture" target="_blank"
              class="hover:text-blue-600">@FaradayFuture</a></li>
        </ul>
      </div>
      <div>
        <div class="font-semibold text-slate-900 mb-2">法律声明</div>
        <div class="legal-text-container">
          <p id="legalText" class="legal-text collapsed text-xs">
            本文件所载内容不构成税务、法律、保险或投资建议，亦不构成任何证券的推荐、出售要约或购买/投资要约的招揽。历史市场趋势并非未来实际市场行为或任何特定投资未来表现的可靠指标，二者可能存在重大差异，不应据此依赖。所有投资均伴随一定风险，无法保证在任何时间段内都会获得正向回报。不同的时间段和市场环境可能会导致显著不同的结果。C10指数所包含的数字资产不受美国联邦存款保险公司（FDIC）保障，可能贬值，且无银行担保。有关C10指数所包含数字资产的信息来源被认为是可靠的，但并不作保证。本文件所载内容不构成任何关于FFAI将持有超过极少量C10指数所含数字资产的陈述或承诺，且FFAI所持有的数字资产数量可能并不具有实质性意义。
          </p>
          <button id="toggleLegalText" class="text-blue-600 hover:text-blue-800 text-sm mt-2 focus:outline-none">
            更多
          </button>
        </div>
      </div>
    </div>
    <div class="text-center text-xs text-slate-500 pb-8">© 2025 FFAI Crypto 保留所有权利</div>
  </footer>

  <!-- ========== JavaScript脚本区域 ========== -->
  <!-- 包含图标初始化、模拟数据、图表配置、交互功能和数据加载脚本 -->
  <script>
    // Icons
    lucide.createIcons();

    // ------- Mock data -------
    const intraday = [
      { t: "09:30", v: 2821 },
      { t: "10:00", v: 2836 },
      { t: "10:30", v: 2849 },
      { t: "11:00", v: 2832 },
      { t: "11:30", v: 2854 },
      { t: "12:00", v: 2861 },
      { t: "12:30", v: 2853 },
      { t: "13:00", v: 2869 },
      { t: "13:30", v: 2876 },
      { t: "14:00", v: 2868 },
      { t: "14:30", v: 2882 },
      { t: "15:00", v: 2891 }
    ];

    const series = intraday.map(d => d.v);

    const constituents = [
      { rank: 1, symbol: "BTC", name: "Bitcoin", weight: 35.0, price: 119523, marketCap: 2379441430804, change: 2.14 },
      { rank: 2, symbol: "ETH", name: "Ethereum", weight: 30.0, price: 4655.05, marketCap: 561524972194, change: 1.25 },
      { rank: 3, symbol: "XRP", name: "XRP", weight: 9.0, price: 3.24, marketCap: 192389714758, change: 0.44 },
      { rank: 4, symbol: "BNB", name: "BNB", weight: 6.0, price: 837.02, marketCap: 116583126591, change: -0.42 },
      { rank: 5, symbol: "SOL", name: "Solana", weight: 5.0, price: 198.14, marketCap: 106776607698, change: 0.88 },
      { rank: 6, symbol: "DOGE", name: "Dogecoin", weight: 4.0, price: 0.239, marketCap: 35945639802, change: 0.18 },
      { rank: 7, symbol: "TRX", name: "TRON", weight: 4.0, price: 0.355, marketCap: 33573703701, change: 0.71 },
      { rank: 8, symbol: "ADA", name: "Cardano", weight: 3.0, price: 0.858, marketCap: 31179958844, change: -1.31 },
      { rank: 9, symbol: "LINK", name: "Chainlink", weight: 2.0, price: 24.54, marketCap: 16635807163, change: 1.15 },
      { rank: 10, symbol: "HYPE", name: "Hyperliquid", weight: 2.0, price: 44.50, marketCap: 14905902394, change: 3.25 }
    ];

    // ------- Charts -------
    // Section 1: Realtime line
    // const indexChart = echarts.init(document.getElementById('indexChart'));
    // indexChart.setOption({
    //   grid: {
    //     left: '3%',
    //     right: '4%',
    //     bottom: '3%',
    //     containLabel: true
    //   },
    //   tooltip: {
    //     trigger: 'axis',
    //     backgroundColor: 'rgba(255, 255, 255, 0.95)',
    //     borderColor: '#e2e8f0',
    //     borderWidth: 1,
    //     textStyle: {
    //       color: '#374151'
    //     },
    //     formatter: function (params) {
    //       const data = params[0];
    //       return `时间: ${data.axisValue}<br/>指数: ${data.value.toFixed(2)}`;
    //     }
    //   },
    //   xAxis: {
    //     type: 'category',
    //     data: intraday.map(d => d.t),
    //     axisLine: { lineStyle: { color: 'rgba(0,0,0,0.25)' } },
    //     splitLine: { lineStyle: { color: 'rgba(0,0,0,0.15)' } },
    //     axisLabel: { color: 'rgba(0,0,0,0.7)' }
    //   },
    //   yAxis: {
    //     type: 'value',
    //     scale: true,
    //     axisLine: { lineStyle: { color: 'rgba(0,0,0,0.25)' } },
    //     splitLine: { lineStyle: { color: 'rgba(0,0,0,0.15)' } },
    //     axisLabel: { color: 'rgba(0,0,0,0.7)' }
    //   },
    //   series: [{
    //     name: 'C10 Index',
    //     type: 'line',
    //     data: series,
    //     smooth: false,
    //     lineStyle: { color: '#0ea5e9', width: 2 },
    //     symbol: 'circle',
    //     symbolSize: 4,
    //     itemStyle: {
    //       color: '#0ea5e9',
    //       borderColor: '#ffffff',
    //       borderWidth: 2
    //     },
    //     emphasis: {
    //       itemStyle: {
    //         color: '#0ea5e9',
    //         borderColor: '#ffffff',
    //         borderWidth: 3,
    //         shadowBlur: 10,
    //         shadowColor: 'rgba(14, 165, 233, 0.3)'
    //       },
    //       symbolSize: 8
    //     }
    //   }]
    // });



    // Section 3: Weights pie
    // const pieChart = echarts.init(document.getElementById('pieChart'));
    // const pieData = constituents.map((c, index) => ({
    //   name: c.symbol,
    //   value: c.weight,
    //   itemStyle: {
    //     color: [
    //       '#f59e0b', '#3b82f6', '#10b981', '#f97316', '#8b5cf6',
    //       '#06b6d4', '#ef4444', '#84cc16', '#f59e0b', '#6366f1'
    //     ][index % 10]
    //   }
    // }));

    // pieChart.setOption({
    //   tooltip: {
    //     trigger: 'item',
    //     formatter: '{b}: {c}%'
    //   },
    //   series: [{
    //     type: 'pie',
    //     radius: ['60%', '90%'],
    //     center: ['50%', '50%'],
    //     data: pieData,
    //     label: {
    //       show: true,
    //       position: 'outside',
    //       formatter: '{b}',
    //       fontSize: 12,
    //       color: '#374151'
    //     },
    //     labelLine: {
    //       show: true,
    //       length: 5,
    //       length2: 15,
    //       lineStyle: {
    //         color: '#9ca3af',
    //         width: 1
    //       }
    //     },
    //     emphasis: {
    //       itemStyle: {
    //         shadowBlur: 10,
    //         shadowOffsetX: 0,
    //         shadowColor: 'rgba(0, 0, 0, 0.5)'
    //       }
    //     }
    //   }]
    // });

    // 窗口大小变化时重新调整图表大小
    window.addEventListener('resize', function () {
      indexChart.resize();
      pieChart.resize();
    });

    // ------- Table -------
    // const tbody = document.getElementById('tableBody');
    // constituents.forEach(c => {
    //   const tr = document.createElement('tr');
    //   tr.className = 'border-t border-slate-200 hover:bg-slate-50';
    //   tr.innerHTML = `
    //     <td class="px-4 py-3">${c.rank}</td>
    //     <td class="px-4 py-3 font-semibold">${c.symbol}</td>
    //     <td class="px-4 py-3 text-right">${c.weight.toFixed(1)}%</td>
    //     <td class="px-4 py-3 text-right">$${c.price.toFixed(2)}</td>
    //     <td class="px-4 py-3 text-right">$${(c.marketCap / 1e9).toFixed(1)}B</td>
    //     <td class="px-4 py-3 ${c.change >= 0 ? 'text-emerald-600' : 'text-rose-600'}">${c.change >= 0 ? '+' : ''}${c.change.toFixed(2)}%</td>
    //   `;
    //   tbody.appendChild(tr);
    // });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        e.preventDefault();
        const t = document.querySelector(a.getAttribute('href'));
        if (t) { t.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
      });
    });
  </script>

  <script>
    (function () {
      const openBtn = document.getElementById('openRightMenu');
      const closeBtn = document.getElementById('closeRightMenu');
      const drawer = document.getElementById('rightDrawer');
      const backdrop = document.getElementById('rightDrawerBackdrop');

      const open = () => {
        drawer.classList.remove('translate-x-full');
        backdrop.classList.remove('pointer-events-none', 'opacity-0');
        document.body.classList.add('overflow-hidden');
        // focus the first link for accessibility
        const firstLink = drawer.querySelector('a,button');
        if (firstLink) firstLink.focus();
      };

      const close = () => {
        drawer.classList.add('translate-x-full');
        backdrop.classList.add('pointer-events-none', 'opacity-0');
        document.body.classList.remove('overflow-hidden');
        openBtn?.focus();
      };

      openBtn?.addEventListener('click', open);
      closeBtn?.addEventListener('click', close);
      backdrop?.addEventListener('click', close);

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') close();
      });
    })();

    // Mobile menu functionality
    (function () {
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');

      function toggleMobileMenu() {
        mobileMenu.classList.toggle('hidden');
      }

      function closeMobileMenu() {
        mobileMenu.classList.add('hidden');
      }

      mobileMenuBtn?.addEventListener('click', toggleMobileMenu);

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
          closeMobileMenu();
        }
      });

      // Close menu on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeMobileMenu();
        }
      });
    })();

    // Language switcher functionality
    (function () {
      // Desktop language switcher
      const langSwitcher = document.getElementById('langSwitcher');
      const langDropdown = document.getElementById('langDropdown');

      if (langSwitcher && langDropdown) {
        langSwitcher.addEventListener('click', function () {
          langDropdown.classList.toggle('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
          if (!langSwitcher.contains(event.target) && !langDropdown.contains(event.target)) {
            langDropdown.classList.add('hidden');
          }
        });
      }

      // Mobile language switcher
      const mobileLangSwitcher = document.getElementById('mobileLangSwitcher');
      const mobileLangDropdown = document.getElementById('mobileLangDropdown');

      if (mobileLangSwitcher && mobileLangDropdown) {
        mobileLangSwitcher.addEventListener('click', function () {
          mobileLangDropdown.classList.toggle('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
          if (!mobileLangSwitcher.contains(event.target) && !mobileLangDropdown.contains(event.target)) {
            mobileLangDropdown.classList.add('hidden');
          }
        });
      }
    })();

    // Initialize Lucide icons
    lucide.createIcons();

    // APPONLY Parameter Handler is included via external script
  </script>
  <script type="module">
    import { loadData } from '../script/datasource.js';
    import {
      createIndexTrendChart,
      updateIndexTrendChart,
      updateLastPrice,
      updateLastChange,
    } from '../script/c10_index_trend.js';
    import { renderTable, renderWeightPie } from '../script/c10_latest_data_table.js';

    let chart;
    await loadData((data, isFirst) => {
      var formattedData = data.c10Index24h.map(d => ({ t: d.calculatedAt, v: d.index }));
      if (chart) {
        updateIndexTrendChart(formattedData, chart);
      }
      else {
        chart = createIndexTrendChart(formattedData, { containerId: 'indexChart', lang: 'en' });
      }

      const before = data.c10Index24h[0].index;
      const current = data.c10Index24h[data.c10Index24h.length - 1].index;
      const change = (current - before) / before;
      updateLastPrice(current, 'lastPrice');
      updateLastChange(change, 'lastChange');

      if (isFirst) {
        renderWeightPie(data.c10LatestMarketData);
      }
      renderTable(data.c10LatestMarketData)
    });
  </script>

  <!-- Legal Text Collapse/Expand Functionality -->
  <style>
    .legal-text {
      transition: all 0.3s ease;
      overflow: hidden;
    }
    
    .legal-text.collapsed {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      line-clamp: 3;
    }
    
    .legal-text.expanded {
      -webkit-line-clamp: unset;
      line-clamp: unset;
    }
  </style>
  
  <script>
    (function() {
      const legalText = document.getElementById('legalText');
      const toggleButton = document.getElementById('toggleLegalText');
      
      if (legalText && toggleButton) {
        toggleButton.addEventListener('click', function() {
          if (legalText.classList.contains('collapsed')) {
            legalText.classList.remove('collapsed');
            legalText.classList.add('expanded');
            toggleButton.textContent = '收起';
          } else {
            legalText.classList.remove('expanded');
            legalText.classList.add('collapsed');
            toggleButton.textContent = '更多';
          }
        });
      }
    })();
  </script>

</body>

</html>