<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>GPS区域显示与行政区划信息</title>
    <!-- 引入高德地图API -->
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=6d5c3f7c2286a685a31937fb343a989a&plugin=AMap.ToolBar,AMap.Geocoder"></script>

    <style>
        #map {
            width: 100%;
            height: 400px;
        }
        #info {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info"></div>
    <script type="text/javascript">
        var map = new AMap.Map('map', {
            zoom: 13,
            center: [116.37, 37.92]
        });

        var path = [
            [116.36, 37.91],
            [116.38, 37.93],
            [116.38, 37.94],
            [116.36, 37.93]
        ];

        var polygon = new AMap.Polygon({
            path: path,
            strokeColor: "#00FF00",
            strokeOpacity: 0.8,
            strokeWeight: 3,
            fillColor: "#00FF00",
            fillOpacity: 0.5
        });

        polygon.setMap(map);

        map.addControl(new AMap.ToolBar({ liteStyle: true }));

        // 逆地理编码实例
        var geocoder = new AMap.Geocoder({
            radius: 1000,
            extensions: "all"
        });

        // 使用第一个GPS点进行逆地理编码
        geocoder.getAddress(path[1], function(status, result) {
            if (status === 'complete' && result.info === 'OK') {
                // 获取行政区划信息并显示
                var addressComponent = result.regeocode.addressComponent;
                var districtInfo = addressComponent.province + ' ' +
                                   addressComponent.city + ' ' +
                                   addressComponent.district + ' ' +
                                   addressComponent.township;
                document.getElementById('info').innerHTML = '行政区划信息：' + districtInfo;
            }
        });
    </script>
</body>
</html>
